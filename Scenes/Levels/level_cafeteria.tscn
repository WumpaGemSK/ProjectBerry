[gd_scene load_steps=13 format=4 uid="uid://0qp2y6fsdulr"]

[ext_resource type="Script" path="res://Scripts/Puzzles/hint_selector.gd" id="1_dt803"]
[ext_resource type="TileSet" uid="uid://d7b6jb8080j1" path="res://Assets/Textures/Environment/Tiles/Basic/basic_wall_floor_tileset.tres" id="1_n07fs"]
[ext_resource type="PackedScene" uid="uid://qd52tygcd2ia" path="res://Scenes/ScenePortal.tscn" id="2_0ehhu"]
[ext_resource type="PackedScene" uid="uid://ds40r7tmgfegq" path="res://Scenes/Pickable_Item.tscn" id="4_i058t"]
[ext_resource type="Resource" uid="uid://bb1o5y6knvbb3" path="res://Resources/Envelopes/hint_chips.tres" id="5_cw65u"]
[ext_resource type="PackedScene" uid="uid://cecumay55j86w" path="res://Scenes/Levels/Components/cafeteria_table.tscn" id="6_8pmgw"]
[ext_resource type="Texture2D" uid="uid://cpmqfi1it3keb" path="res://Assets/Textures/Environment/Props/serving_station.png" id="7_fpg4h"]
[ext_resource type="PackedScene" uid="uid://d06b4tntvpwmv" path="res://Scenes/Enemies/DozySoldier.tscn" id="8_m263o"]
[ext_resource type="PackedScene" uid="uid://pmnrd8y6xych" path="res://Scenes/Enemies/PatrollingSoldier.tscn" id="9_6tkee"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_xjm82"]
vertices = PackedVector2Array(180, 254, 237, 227, 298, 227, 326, 302, 180, 134, 237, 10, 180, 158, 180, 38, 10, 10, 120, 38, 120, 134, 96, 134, 96, 38, 36, 38, 10, 302, 36, 134, 120, 158, 96, 158, 120, 254, 96, 254, 36, 158, 36, 254, 326, 10, 298, 10)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3), PackedInt32Array(4, 5, 1, 6), PackedInt32Array(5, 4, 7), PackedInt32Array(8, 5, 7, 9), PackedInt32Array(1, 0, 6), PackedInt32Array(9, 10, 11, 12), PackedInt32Array(8, 9, 12), PackedInt32Array(8, 12, 13), PackedInt32Array(14, 8, 13, 15), PackedInt32Array(10, 4, 6, 16), PackedInt32Array(11, 10, 16, 17), PackedInt32Array(16, 18, 19, 17), PackedInt32Array(15, 11, 17, 20), PackedInt32Array(14, 15, 20), PackedInt32Array(14, 20, 21), PackedInt32Array(3, 14, 21, 19), PackedInt32Array(3, 19, 18), PackedInt32Array(3, 18, 0), PackedInt32Array(22, 3, 2, 23)])
source_geometry_group_name = &"Navigation"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_od63c"]
size = Vector2(41, 242)

[sub_resource type="Curve2D" id="Curve2D_isjjh"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 210, 24, 0, 0, 0, 0, 210, 288, 0, 0, 0, 0, 24, 288, 0, 0, 0, 0, 24, 24, 0, 0, 0, 0, 210, 24)
}
point_count = 5

[node name="Level_Cafeteria" type="Node2D" node_paths=PackedStringArray("pickable_item")]
script = ExtResource("1_dt803")
pickable_item = NodePath("Hint")
code = "CHIPS"

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
navigation_polygon = SubResource("NavigationPolygon_xjm82")

[node name="TileMapLayer" type="TileMapLayer" parent="NavigationRegion2D"]
tile_map_data = PackedByteArray("AAANAAwAAAABAAAAAAANAAsAAAABAAAAAAANAAoAAAABAAAAAAANAAkAAAABAAAAAAANAAgAAAABAAAAAAANAAcAAAABAAAAAAANAAYAAAABAAAAAAANAAUAAAABAAAAAAANAAQAAAABAAAAAAANAAMAAAABAAAAAAANAAIAAAABAAAAAAANAAEAAAABAAAAAAANAAAAAAABAAAAAAAMAAwAAAABAAAAAAAMAAsAAAABAAAAAAAMAAoAAAABAAAAAAAMAAkAAAABAAAAAAAMAAgAAAABAAAAAAAMAAcAAAABAAAAAAAMAAYAAAABAAAAAAAMAAUAAAABAAAAAAAMAAQAAAABAAAAAAAMAAMAAAABAAAAAAAMAAIAAAABAAAAAAAMAAEAAAABAAAAAAAMAAAAAAABAAAAAAALAAwAAAABAAAAAAALAAsAAAABAAAAAAALAAoAAAABAAAAAAALAAkAAAABAAAAAAALAAgAAAABAAAAAAALAAcAAAABAAAAAAALAAYAAAABAAAAAAALAAUAAAABAAAAAAALAAQAAAABAAAAAAALAAMAAAABAAAAAAALAAIAAAABAAAAAAALAAEAAAABAAAAAAALAAAAAAABAAAAAAAKAAwAAAABAAAAAAAKAAsAAAABAAAAAAAKAAoAAAABAAAAAAAKAAkAAAABAAAAAAAKAAgAAAABAAAAAAAKAAcAAAABAAAAAAAKAAYAAAABAAAAAAAKAAUAAAABAAAAAAAKAAQAAAABAAAAAAAKAAMAAAABAAAAAAAKAAIAAAABAAAAAAAKAAEAAAABAAAAAAAKAAAAAAABAAAAAAAJAAwAAAABAAAAAAAJAAsAAAABAAAAAAAJAAoAAAABAAAAAAAJAAkAAAABAAAAAAAJAAgAAAABAAAAAAAJAAcAAAABAAAAAAAJAAYAAAABAAAAAAAJAAUAAAABAAAAAAAJAAQAAAABAAAAAAAJAAMAAAABAAAAAAAJAAIAAAABAAAAAAAJAAEAAAABAAAAAAAJAAAAAAABAAAAAAAIAAwAAAABAAAAAAAIAAsAAAABAAAAAAAIAAoAAAABAAAAAAAIAAkAAAABAAAAAAAIAAgAAAABAAAAAAAIAAcAAAABAAAAAAAIAAYAAAABAAAAAAAIAAUAAAABAAAAAAAIAAQAAAABAAAAAAAIAAMAAAABAAAAAAAIAAIAAAABAAAAAAAIAAEAAAABAAAAAAAIAAAAAAABAAAAAAAHAAwAAAABAAAAAAAHAAsAAAABAAAAAAAHAAoAAAABAAAAAAAHAAkAAAABAAAAAAAHAAgAAAABAAAAAAAHAAcAAAABAAAAAAAHAAYAAAABAAAAAAAHAAUAAAABAAAAAAAHAAQAAAABAAAAAAAHAAMAAAABAAAAAAAHAAIAAAABAAAAAAAHAAEAAAABAAAAAAAHAAAAAAABAAAAAAAGAAwAAAABAAAAAAAGAAsAAAABAAAAAAAGAAoAAAABAAAAAAAGAAkAAAABAAAAAAAGAAgAAAABAAAAAAAGAAcAAAABAAAAAAAGAAYAAAABAAAAAAAGAAUAAAABAAAAAAAGAAQAAAABAAAAAAAGAAMAAAABAAAAAAAGAAIAAAABAAAAAAAGAAEAAAABAAAAAAAGAAAAAAABAAAAAAAFAAwAAAABAAAAAAAFAAsAAAABAAAAAAAFAAoAAAABAAAAAAAFAAkAAAABAAAAAAAFAAgAAAABAAAAAAAFAAcAAAABAAAAAAAFAAYAAAABAAAAAAAFAAUAAAABAAAAAAAFAAQAAAABAAAAAAAFAAMAAAABAAAAAAAFAAIAAAABAAAAAAAFAAEAAAABAAAAAAAFAAAAAAABAAAAAAAEAAwAAAABAAAAAAAEAAsAAAABAAAAAAAEAAoAAAABAAAAAAAEAAkAAAABAAAAAAAEAAgAAAABAAAAAAAEAAcAAAABAAAAAAAEAAYAAAABAAAAAAAEAAUAAAABAAAAAAAEAAQAAAABAAAAAAAEAAMAAAABAAAAAAAEAAIAAAABAAAAAAAEAAEAAAABAAAAAAAEAAAAAAABAAAAAAADAAwAAAABAAAAAAADAAsAAAABAAAAAAADAAoAAAABAAAAAAADAAkAAAABAAAAAAADAAgAAAABAAAAAAADAAcAAAABAAAAAAADAAYAAAABAAAAAAADAAUAAAABAAAAAAADAAQAAAABAAAAAAADAAMAAAABAAAAAAADAAIAAAABAAAAAAADAAEAAAABAAAAAAADAAAAAAABAAAAAAACAAwAAAABAAAAAAACAAsAAAABAAAAAAACAAoAAAABAAAAAAACAAkAAAABAAAAAAACAAgAAAABAAAAAAACAAcAAAABAAAAAAACAAYAAAABAAAAAAACAAUAAAABAAAAAAACAAQAAAABAAAAAAACAAMAAAABAAAAAAACAAIAAAABAAAAAAACAAEAAAABAAAAAAACAAAAAAABAAAAAAABAAwAAAABAAAAAAABAAsAAAABAAAAAAABAAoAAAABAAAAAAABAAkAAAABAAAAAAABAAgAAAABAAAAAAABAAcAAAABAAAAAAABAAYAAAABAAAAAAABAAUAAAABAAAAAAABAAQAAAABAAAAAAABAAMAAAABAAAAAAABAAIAAAABAAAAAAABAAEAAAABAAAAAAABAAAAAAABAAAAAAAAAAwAAAABAAAAAAAAAAsAAAABAAAAAAAAAAoAAAABAAAAAAAAAAkAAAABAAAAAAAAAAgAAAABAAAAAAAAAAcAAAABAAAAAAAAAAYAAAABAAAAAAAAAAUAAAABAAAAAAAAAAQAAAABAAAAAAAAAAMAAAABAAAAAAAAAAIAAAABAAAAAAAAAAEAAAABAAAAAAAAAAAAAAABAAAAAAD//wEAAAAEAAAAAAD//wAAAAAEAAAAAAD/////AAAEAAAAAAAAAP//AAACAAAAAAABAP//AAACAAAAAAD//wIAAAAEAAAAAAD//wMAAAAEAAAAAAD//wQAAAAEAAAAAAD//wUAAAAEAAAAAAD//wYAAAAEAAAAAAD//wcAAAAEAAAAAAD//wgAAAAEAAAAAAD//wkAAAAEAAAAAAD//woAAAAEAAAAAAD//wsAAAAEAAAAAAD//wwAAAAEAAAAAAABAA0AAAAAAAEAAAAAAA0AAAAAAAEAAAD//w0AAAADAAEAAAACAP//AAACAAAAAAACAA0AAAAAAAEAAAADAP//AAACAAAAAAADAA0AAAAAAAEAAAAEAP//AAACAAAAAAAEAA0AAAAAAAEAAAAFAP//AAACAAAAAAAFAA0AAAAAAAEAAAAGAP//AAACAAAAAAAGAA0AAAAAAAEAAAAHAP//AAACAAAAAAAHAA0AAAAAAAEAAAAIAP//AAACAAAAAAAIAA0AAAAAAAEAAAAJAP//AAACAAAAAAAJAA0AAAAAAAEAAAAKAP//AAACAAAAAAAKAA0AAAAAAAEAAAALAP//AAACAAAAAAALAA0AAAAAAAEAAAAMAP//AAACAAAAAAAMAA0AAAAAAAEAAAANAP//AAACAAAAAAANAA0AAAAAAAEAAAAOAAAAAAAAAAIAAAAOAAEAAAAAAAIAAAAOAP//AAAAAAIAAAAOAAIAAAAAAAIAAAAOAAMAAAAAAAIAAAAOAAQAAAAAAAIAAAAOAAUAAAAAAAIAAAAOAAYAAAAAAAIAAAAOAAcAAAAAAAIAAAAOAAgAAAAAAAIAAAAOAAkAAAAAAAIAAAAOAAoAAAAAAAIAAAAOAAsAAAAAAAIAAAAOAAwAAAAAAAIAAAAOAA0AAAAEAAEAAAAOAP7/AAABAAEAAAD///7/AAACAAEAAAAAAP7/AAABAAIAAAABAP7/AAABAAIAAAACAP7/AAABAAIAAAADAP7/AAABAAIAAAAEAP7/AAABAAIAAAAFAP7/AAABAAIAAAAGAP7/AAABAAIAAAAHAP7/AAABAAIAAAAIAP7/AAABAAIAAAAJAP7/AAABAAIAAAAKAP7/AAABAAIAAAALAP7/AAABAAIAAAAMAP7/AAABAAIAAAANAP7/AAABAAIAAAA=")
tile_set = ExtResource("1_n07fs")

[node name="CafeteriaTable" parent="NavigationRegion2D" instance=ExtResource("6_8pmgw")]

[node name="CafeteriaTable2" parent="NavigationRegion2D" instance=ExtResource("6_8pmgw")]
position = Vector2(66, 216)

[node name="CafeteriaTable3" parent="NavigationRegion2D" instance=ExtResource("6_8pmgw")]
position = Vector2(150, 96)

[node name="CafeteriaTable4" parent="NavigationRegion2D" instance=ExtResource("6_8pmgw")]
position = Vector2(150, 216)

[node name="ServingStation" type="StaticBody2D" parent="NavigationRegion2D"]
position = Vector2(268, 105)

[node name="Sprite2D" type="Sprite2D" parent="NavigationRegion2D/ServingStation"]
texture = ExtResource("7_fpg4h")
flip_h = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="NavigationRegion2D/ServingStation"]
position = Vector2(-0.5, -9)
shape = SubResource("RectangleShape2D_od63c")

[node name="Portal" parent="." instance=ExtResource("2_0ehhu")]
position = Vector2(60, -12)
to_previous = true
door_tier = 3

[node name="SpawnPoint" type="Marker2D" parent="."]
position = Vector2(60, 12)

[node name="Hint" parent="." instance=ExtResource("4_i058t")]
position = Vector2(312, 12)
item = ExtResource("5_cw65u")

[node name="Enemies" type="Node2D" parent="."]

[node name="DozySoldier" parent="Enemies" instance=ExtResource("8_m263o")]
position = Vector2(270, 240)

[node name="Enemy" parent="Enemies/DozySoldier" index="0"]
original_facing_dir = 0

[node name="PatrollingSoldier" parent="Enemies" instance=ExtResource("9_6tkee")]
position = Vector2(210, 24)

[node name="Patrol" parent="Enemies/PatrollingSoldier" index="1" node_paths=PackedStringArray("patrol_path")]
patrol_path = NodePath("../../Path2D")

[node name="Path2D" type="Path2D" parent="Enemies"]
curve = SubResource("Curve2D_isjjh")

[editable path="Enemies/DozySoldier"]
[editable path="Enemies/PatrollingSoldier"]
